{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.2/.schema/devbox.schema.json",
  "env": {
    "DEVBOX_COREPACK_ENABLED": "true"
  },
  "packages": [
    "nodejs@20.11.1",
    "act@latest",
    "dotnet-sdk_10@latest"
  ],
  "shell": {
    "init_hook": [
      "echo 'ğŸš€ Development Environment Ready!'",
      "echo ''",
      "echo 'ğŸ“¦ Available Tools:'",
      "echo '  Node.js:' $(node --version)",
      "echo '  npm:' $(npm --version)",
      "echo '  dotnet:' $(dotnet --version)",
      "echo '  act:' $(act --version)",
      "echo ''",
      "# Set up environment variables",
      "export NODE_OPTIONS='--max-old-space-size=4096'",
      "export BROWSER=none",
      "",
      "# Auto-setup if needed",
      "if [ -f frontend/package.json ] && [ ! -d frontend/node_modules ]; then",
      "  echo 'ğŸ“¥ Installing frontend dependencies...'",
      "  cd frontend && npm install && cd ..",
      "fi"
    ],
    "scripts": {
      "dev": [
        "echo 'ğŸš€ Starting development servers...'",
        "# Start backend in background",
        "cd backend && dotnet run &",
        "BACKEND_PID=$!",
        "echo 'ğŸ”§ Backend started (PID: $BACKEND_PID)'",
        "# Start frontend",
        "cd frontend",
        "echo 'âš¡ Starting frontend...'",
        "npm run dev",
        "# Cleanup on exit",
        "trap 'kill $BACKEND_PID' EXIT"
      ],
      "frontend": [
        "cd frontend && npm run dev"
      ],
      "backend": [
        "cd backend && dotnet run"
      ],
      "build": [
        "echo 'ğŸ—ï¸  Building project...'",
        "cd frontend",
        "npm run build",
        "cd ../backend",
        "dotnet build --configuration Release",
        "echo 'âœ… Build complete!'"
      ],
      "test": [
        "echo 'ğŸ§ª Running tests...'",
        "cd frontend && npm test",
        "cd ../backend && dotnet test"
      ],
      "clean": [
        "echo 'ğŸ§¹ Cleaning project...'",
        "rm -rf frontend/node_modules",
        "rm -rf backend/bin backend/obj",
        "echo 'âœ… Clean complete!'"
      ],
      "format": [
        "echo 'ğŸ’… Formatting code...'",
        "cd frontend && npm run prettier --write .",
        "cd ../backend && dotnet format",
        "echo 'âœ… Formatting complete!'"
      ],
      "ci": [
        "echo 'ğŸ•¹ï¸ Running GitHub Actions locally with act...'",
        "act --verbose"
      ]
    }
  }
}